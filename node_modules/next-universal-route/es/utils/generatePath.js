import { compile } from 'path-to-regexp';
import { mapValues } from './mapValues';
var cache = {};
var compilePath = function (path) {
    if (cache[path]) {
        return cache[path];
    }
    var generator = compile(path);
    cache[path] = generator;
    return generator;
};
export var generatePath = function (path, params) {
    if (path === void 0) { path = '/'; }
    if (params === void 0) { params = {}; }
    var safeParams = mapValues(params, function (p) {
        return typeof p === 'undefined' || p === null || p === '' ? '_' : p;
    });
    return path === '/' ? path : compilePath(path)(safeParams);
};
